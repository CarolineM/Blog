{% extends "base.html" %}
{% block content %} 
		<legend>Create Your Content</legend>
			<div class="control-group">
			<div class="controls">
			<div class="row-fluid">
				<form action='{{ upload_url }}' method="POST" class="well" enctype="multipart/form-data">
				<div class="pull-right">
					<label class="control-label" for="id_file">{{ picUploadLabel }}</label>
					<input type="file" id="id_file" name="file"id="fileInput"/>	
					</div>
					<label class="control-label" for="id_title">Title:</label> 
					<input type="text" value='{{ title }}' name="subject" id="id_title" style="width: 250px; height: 25px" /> 
					<label class="control-label" for="id_text">Post:</label>
					<div class="boxsizingBorder">
					<!-- TODO:relative width -->
						<div>
						<textarea style="width: 80%; height: 350px" name="content" id="id_text" class="tinymce">{{ text }}</textarea>
						</div>
						<input type="hidden" name="id" value='{{ id }}'>
					</div>
					<br/>
					<button class="btn-mini btn-info" onclick="$('#id_text').tinymce().hide();return false;">Hide Panel</button>
					<button class="btn-mini btn-info" onclick="alert($('#id_text').html());return false;">Get HTML</button>
					<button class="btn-mini btn-info" onclick="alert($('#id_text').tinymce().selection.getContent());return false;">Get selected HTML</button>
					<button class="btn-mini btn-info" onclick="alert($('#id_text').tinymce().selection.getContent({format : 'text'}));return false;">Get selected text</button>
					<button class="btn-mini btn-info" onclick="$('#id_text').tinymce().execCommand('mceReplaceContent',false,'<b>{$selection}</b>');return false;">Remove formatting from selection</button>
					<br />
					<br />
					<input class="btn-large btn-primary" type="submit"name="post" value=Post style="margin-right: 10px;" /> 
					<input class="btn-large btn-inverse" type="submit" name="save" value=Save />
				</form>
			</div>
			</div>
</div>
{% endblock %}

